"use strict";(self.webpackChunkangular_travel=self.webpackChunkangular_travel||[]).push([[565],{5565:function(t,n,i){i.r(n),i.d(n,{FavoritesModule:function(){return C}});var e=i(5528),o=i(7709),a=i(4108),s=i(1776),r=i(6436),c=i(5757),p=i(6782),g=i(639),l=i(1541),u=i(8583),A=i(665);function Z(t,n){if(1&t){const t=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"input",16),g.NdJ("ngModelChange",function(n){return g.CHM(t).$implicit.isSelected=n}),g.qZA(),g.qZA(),g.TgZ(3,"td"),g.TgZ(4,"button",17),g.NdJ("click",function(){const n=g.CHM(t),i=n.$implicit,e=n.index;return g.oxw(2).onEdit(i,e)}),g._uU(5),g.qZA(),g.qZA(),g.TgZ(6,"td"),g.TgZ(7,"span"),g._uU(8),g.qZA(),g.qZA(),g.TgZ(9,"td"),g.TgZ(10,"span"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"td"),g.TgZ(13,"span"),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"td"),g.TgZ(16,"span"),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"td"),g.TgZ(19,"span"),g._uU(20),g.qZA(),g.qZA(),g.TgZ(21,"td"),g.TgZ(22,"span"),g._uU(23),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=n.$implicit,i=n.index,e=g.oxw(2);g.xp6(2),g.MGl("name","id",i,""),g.Q6J("checked",t.isSelected)("ngModel",t.isSelected),g.xp6(3),g.hij(" ",e.appConstant.Common.EDIT," "),g.xp6(3),g.Oqu(t.name),g.xp6(3),g.Oqu(t.distict),g.xp6(3),g.Oqu(t.houseHolds),g.xp6(3),g.Oqu(t.persons),g.xp6(3),g.Oqu(t.floors),g.xp6(3),g.Oqu(t.progress)}}const f=function(t){return{active:t}};function d(t,n){if(1&t){const t=g.EpF();g.TgZ(0,"li",18),g.TgZ(1,"a",13),g.NdJ("click",function(){const n=g.CHM(t).$implicit;return g.oxw(2).changePage("change",n)}),g._uU(2),g.qZA(),g.qZA()}if(2&t){const t=n.$implicit,i=g.oxw(2);g.Q6J("ngClass",g.VKq(2,f,t===i.pagination.pageStart)),g.xp6(2),g.Oqu(t)}}function h(t,n){if(1&t){const t=g.EpF();g.ynx(0),g.TgZ(1,"button",4),g.NdJ("click",function(){return g.CHM(t),g.oxw().onClear()}),g._uU(2),g.qZA(),g.TgZ(3,"button",5),g.NdJ("click",function(){return g.CHM(t),g.oxw().onRemoveFavoritesAttractions()}),g._uU(4),g.qZA(),g.TgZ(5,"form",6,7),g.TgZ(7,"table",8),g.TgZ(8,"thead"),g.TgZ(9,"tr"),g._UZ(10,"td",9),g.TgZ(11,"td"),g._uU(12,"Action"),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td"),g._uU(18),g.qZA(),g.TgZ(19,"td"),g._uU(20),g.qZA(),g.TgZ(21,"td"),g._uU(22),g.qZA(),g.TgZ(23,"td"),g._uU(24),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"tbody"),g.YNc(26,Z,24,10,"tr",10),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"nav"),g.TgZ(28,"ul",11),g.TgZ(29,"li",12),g.TgZ(30,"a",13),g.NdJ("click",function(){return g.CHM(t),g.oxw().changePage("previous")}),g._uU(31),g.qZA(),g.qZA(),g.TgZ(32,"div",14),g.YNc(33,d,3,4,"li",15),g.qZA(),g.TgZ(34,"li",12),g.TgZ(35,"a",13),g.NdJ("click",function(){return g.CHM(t),g.oxw().changePage("next")}),g._uU(36),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&t){const t=g.oxw();g.xp6(2),g.hij(" ",t.appConstant.Common.CLEAR_LOCAL_STORAGE," "),g.xp6(2),g.hij(" ",t.appConstant.Common.REMOVE_FROM_FAVORITES," "),g.xp6(10),g.Oqu(t.appConstant.AttractionText.NAME),g.xp6(2),g.Oqu(t.appConstant.AttractionText.DISTICT),g.xp6(2),g.Oqu(t.appConstant.AttractionText.HOUSEHOLDS),g.xp6(2),g.Oqu(t.appConstant.AttractionText.PERSONS),g.xp6(2),g.Oqu(t.appConstant.AttractionText.FLOORS),g.xp6(2),g.Oqu(t.appConstant.AttractionText.PROGRESS),g.xp6(2),g.Q6J("ngForOf",t.filteredPageAttractions),g.xp6(5),g.hij(" ",t.appConstant.PaginationText.PREVIOUS," "),g.xp6(2),g.Q6J("ngForOf",t.pagination.pageList),g.xp6(3),g.hij(" ",t.appConstant.PaginationText.NEXT," ")}}function T(t,n){if(1&t&&g._uU(0),2&t){const t=g.oxw();g.Oqu(t.appConstant.Common.NO_LOCAL_STORAGE_DATA)}}function q(t,n){}const m=[{path:"",component:(()=>{class t{constructor(t,n){this.favoritesService=t,this.componentFactoryResolver=n,this.appConstant=s,this.title=this.appConstant.Common.FAVORITES,this.favoritesAttractions=[],this.filteredAttractions=[],this.filteredPageAttractions=[],this.destory=new o.xQ,this.pagination=new a.t}ngOnInit(){this.favoritesAttractions=this.favoritesService.getFavoritesAttractions(),this.initAttractions(),this.favoritesService.favoritesAttractionsChanged$.pipe((0,p.R)(this.destory)).subscribe(t=>{this.favoritesAttractions=t,this.initAttractions()})}ngOnDestroy(){this.destory.next(),this.destory.complete()}onEdit(t,n){const i=this.componentFactoryResolver.resolveComponentFactory(r.z),e=this.modalHost.viewContainerRef;e.clear();const o=e.createComponent(i);o.instance.formData=t,o.instance.close$.pipe((0,p.R)(this.destory)).subscribe(t=>{t&&this.favoritesService.updateFavoritesAttraction(n+this.pagination.itemStart,t),e.clear()})}initAttractions(){this.filteredAttractions=this.favoritesAttractions,this.buildPageList(this.filteredAttractions),this.filterAttractions(this.filteredAttractions)}buildPageList(t){this.pagination.buildPageList(t)}filterAttractions(t){const n=this.pagination.itemEnd,i=this.pagination.itemStart;this.filteredPageAttractions=t.filter((t,e)=>e>=i&&e<n)}changePage(t,n=null){this.pagination.alterPage(t,n),this.filterAttractions(this.filteredAttractions)}onClear(){this.favoritesService.removeAll()}onRemoveFavoritesAttractions(){this.favoritesService.removeFavoritesAttractions()}}return t.\u0275fac=function(n){return new(n||t)(g.Y36(l.G),g.Y36(g._Vd))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-favorites"]],viewQuery:function(t,n){if(1&t&&g.Gf(c.b,5),2&t){let t;g.iGM(t=g.CRH())&&(n.modalHost=t.first)}},decls:6,vars:3,consts:[[1,"isMobile"],[4,"ngIf","ngIfElse"],["noData",""],["appPlaceholder",""],["type","button","margin-right","",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"overflow-x"],["f","ngForm"],["margin-top","",1,"table"],["width","5%"],[4,"ngFor","ngForOf"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"d-flex","overflow-x"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["type","checkbox","ngModel","",3,"checked","name","ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"page-item",3,"ngClass"]],template:function(t,n){if(1&t&&(g.TgZ(0,"h3",0),g._uU(1),g.qZA(),g.YNc(2,h,37,12,"ng-container",1),g.YNc(3,T,1,1,"ng-template",null,2,g.W1O),g.YNc(5,q,0,0,"ng-template",3)),2&t){const t=g.MAs(4);g.xp6(1),g.Oqu(n.title),g.xp6(1),g.Q6J("ngIf",n.favoritesAttractions.length>0)("ngIfElse",t)}},directives:[u.O5,c.b,A._Y,A.JL,A.F,u.sg,A.Wl,A.JJ,A.On,u.mk],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[e.Bz.forChild(m)],e.Bz]}),t})();var v=i(4466);let C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[v.m,x]]}),t})()}}]);