!function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(self.webpackChunkangular_travel=self.webpackChunkangular_travel||[]).push([[565],{5565:function(i,e,a){a.r(e),a.d(e,{FavoritesModule:function(){return b}});var o=a(5528),r=a(7709),s=a(4108),c=a(1776),u=a(6436),p=a(5757),l=a(6782),g=a(639),f=a(1541),A=a(8583),Z=a(665);function d(t,n){if(1&t){var i=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"input",16),g.NdJ("ngModelChange",function(t){return g.CHM(i).$implicit.isSelected=t}),g.qZA(),g.qZA(),g.TgZ(3,"td"),g.TgZ(4,"button",17),g.NdJ("click",function(){var t=g.CHM(i),n=t.$implicit,e=t.index;return g.oxw(2).onEdit(n,e)}),g._uU(5),g.qZA(),g.qZA(),g.TgZ(6,"td"),g.TgZ(7,"span"),g._uU(8),g.qZA(),g.qZA(),g.TgZ(9,"td"),g.TgZ(10,"span"),g._uU(11),g.qZA(),g.qZA(),g.TgZ(12,"td"),g.TgZ(13,"span"),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"td"),g.TgZ(16,"span"),g._uU(17),g.qZA(),g.qZA(),g.TgZ(18,"td"),g.TgZ(19,"span"),g._uU(20),g.qZA(),g.qZA(),g.TgZ(21,"td"),g.TgZ(22,"span"),g._uU(23),g.qZA(),g.qZA(),g.qZA()}if(2&t){var e=n.$implicit,a=n.index,o=g.oxw(2);g.xp6(2),g.MGl("name","id",a,""),g.Q6J("checked",e.isSelected)("ngModel",e.isSelected),g.xp6(3),g.hij(" ",o.appConstant.Common.EDIT," "),g.xp6(3),g.Oqu(e.name),g.xp6(3),g.Oqu(e.distict),g.xp6(3),g.Oqu(e.houseHolds),g.xp6(3),g.Oqu(e.persons),g.xp6(3),g.Oqu(e.floors),g.xp6(3),g.Oqu(e.progress)}}var v=function(t){return{active:t}};function h(t,n){if(1&t){var i=g.EpF();g.TgZ(0,"li",18),g.TgZ(1,"a",13),g.NdJ("click",function(){var t=g.CHM(i).$implicit;return g.oxw(2).changePage("change",t)}),g._uU(2),g.qZA(),g.qZA()}if(2&t){var e=n.$implicit,a=g.oxw(2);g.Q6J("ngClass",g.VKq(2,v,e===a.pagination.pageStart)),g.xp6(2),g.Oqu(e)}}function T(t,n){if(1&t){var i=g.EpF();g.ynx(0),g.TgZ(1,"button",4),g.NdJ("click",function(){return g.CHM(i),g.oxw().onClear()}),g._uU(2),g.qZA(),g.TgZ(3,"button",5),g.NdJ("click",function(){return g.CHM(i),g.oxw().onRemoveFavoritesAttractions()}),g._uU(4),g.qZA(),g.TgZ(5,"form",6,7),g.TgZ(7,"table",8),g.TgZ(8,"thead"),g.TgZ(9,"tr"),g._UZ(10,"td",9),g.TgZ(11,"td"),g._uU(12,"Action"),g.qZA(),g.TgZ(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td"),g._uU(18),g.qZA(),g.TgZ(19,"td"),g._uU(20),g.qZA(),g.TgZ(21,"td"),g._uU(22),g.qZA(),g.TgZ(23,"td"),g._uU(24),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"tbody"),g.YNc(26,d,24,10,"tr",10),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"nav"),g.TgZ(28,"ul",11),g.TgZ(29,"li",12),g.TgZ(30,"a",13),g.NdJ("click",function(){return g.CHM(i),g.oxw().changePage("previous")}),g._uU(31),g.qZA(),g.qZA(),g.TgZ(32,"div",14),g.YNc(33,h,3,4,"li",15),g.qZA(),g.TgZ(34,"li",12),g.TgZ(35,"a",13),g.NdJ("click",function(){return g.CHM(i),g.oxw().changePage("next")}),g._uU(36),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&t){var e=g.oxw();g.xp6(2),g.hij(" ",e.appConstant.Common.CLEAR_LOCAL_STORAGE," "),g.xp6(2),g.hij(" ",e.appConstant.Common.REMOVE_FROM_FAVORITES," "),g.xp6(10),g.Oqu(e.appConstant.AttractionText.NAME),g.xp6(2),g.Oqu(e.appConstant.AttractionText.DISTICT),g.xp6(2),g.Oqu(e.appConstant.AttractionText.HOUSEHOLDS),g.xp6(2),g.Oqu(e.appConstant.AttractionText.PERSONS),g.xp6(2),g.Oqu(e.appConstant.AttractionText.FLOORS),g.xp6(2),g.Oqu(e.appConstant.AttractionText.PROGRESS),g.xp6(2),g.Q6J("ngForOf",e.filteredPageAttractions),g.xp6(5),g.hij(" ",e.appConstant.PaginationText.PREVIOUS," "),g.xp6(2),g.Q6J("ngForOf",e.pagination.pageList),g.xp6(3),g.hij(" ",e.appConstant.PaginationText.NEXT," ")}}function q(t,n){if(1&t&&g._uU(0),2&t){var i=g.oxw();g.Oqu(i.appConstant.Common.NO_LOCAL_STORAGE_DATA)}}function m(t,n){}var x,C=[{path:"",component:(x=function(){function i(n,e){t(this,i),this.favoritesService=n,this.componentFactoryResolver=e,this.appConstant=c,this.title=this.appConstant.Common.FAVORITES,this.favoritesAttractions=[],this.filteredAttractions=[],this.filteredPageAttractions=[],this.destory=new r.xQ,this.pagination=new s.t}var e,a,o;return e=i,(a=[{key:"ngOnInit",value:function(){var t=this;this.favoritesAttractions=this.favoritesService.getFavoritesAttractions(),this.initAttractions(),this.favoritesService.favoritesAttractionsChanged$.pipe((0,l.R)(this.destory)).subscribe(function(n){t.favoritesAttractions=n,t.initAttractions()})}},{key:"ngOnDestroy",value:function(){this.destory.next(),this.destory.complete()}},{key:"onEdit",value:function(t,n){var i=this,e=this.componentFactoryResolver.resolveComponentFactory(u.z),a=this.modalHost.viewContainerRef;a.clear();var o=a.createComponent(e);o.instance.formData=t,o.instance.close$.pipe((0,l.R)(this.destory)).subscribe(function(t){t&&i.favoritesService.updateFavoritesAttraction(n+i.pagination.itemStart,t),a.clear()})}},{key:"initAttractions",value:function(){this.filteredAttractions=this.favoritesAttractions,this.buildPageList(this.filteredAttractions),this.filterAttractions(this.filteredAttractions)}},{key:"buildPageList",value:function(t){this.pagination.buildPageList(t)}},{key:"filterAttractions",value:function(t){var n=this.pagination.itemEnd,i=this.pagination.itemStart;this.filteredPageAttractions=t.filter(function(t,e){return e>=i&&e<n})}},{key:"changePage",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.pagination.alterPage(t,n),this.filterAttractions(this.filteredAttractions)}},{key:"onClear",value:function(){this.favoritesService.removeAll()}},{key:"onRemoveFavoritesAttractions",value:function(){this.favoritesService.removeFavoritesAttractions()}}])&&n(e.prototype,a),o&&n(e,o),i}(),x.\u0275fac=function(t){return new(t||x)(g.Y36(f.G),g.Y36(g._Vd))},x.\u0275cmp=g.Xpm({type:x,selectors:[["app-favorites"]],viewQuery:function(t,n){var i;1&t&&g.Gf(p.b,5),2&t&&g.iGM(i=g.CRH())&&(n.modalHost=i.first)},decls:6,vars:3,consts:[[1,"isMobile"],[4,"ngIf","ngIfElse"],["noData",""],["appPlaceholder",""],["type","button","margin-right","",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"overflow-x"],["f","ngForm"],["margin-top","",1,"table"],["width","5%"],[4,"ngFor","ngForOf"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"d-flex","overflow-x"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["type","checkbox","ngModel","",3,"checked","name","ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"page-item",3,"ngClass"]],template:function(t,n){if(1&t&&(g.TgZ(0,"h3",0),g._uU(1),g.qZA(),g.YNc(2,T,37,12,"ng-container",1),g.YNc(3,q,1,1,"ng-template",null,2,g.W1O),g.YNc(5,m,0,0,"ng-template",3)),2&t){var i=g.MAs(4);g.xp6(1),g.Oqu(n.title),g.xp6(1),g.Q6J("ngIf",n.favoritesAttractions.length>0)("ngIfElse",i)}},directives:[A.O5,p.b,Z._Y,Z.JL,Z.F,A.sg,Z.Wl,Z.JJ,Z.On,A.mk],styles:[""]}),x)}],O=function(){var n=function n(){t(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[o.Bz.forChild(C)],o.Bz]}),n}(),y=a(4466),b=function(){var n=function n(){t(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[y.m,O]]}),n}()}}])}();